# 위상 정렬

- 정렬 알고리즘의 일종
- 순서가 정해져 있는 일련의 작업을 차례대로 수행해야 할 때 사용가능한 알고리즘
- **방향 그래프의 모든 노드를 '방향성에 거스르지 않도록 순서대로 나열'하는 것**
- 예시) 선수과목을 고려한 학습 순서 설정하기
  - 그래프 상에서 선후 관계가 있다면, 위상 정렬을 수행하여 모든 선후 관계를 지키는 전체 순서를 계산할 수 있음!
- **⭐진입차수(Indegree)⭐**
  - 특정한 노드로 '들어오는' 간선의 개수
- 알고리즘
  - **①** `진입차수가 0인 노드`를 큐에 넣음
  - **②** 큐가 빌 때까지 다음 과정을 반복 
    - (1) 큐에서 원소를 꺼내어, 해당 노드에서 출발하는 간선을 그래프에서 제거함
    - (2) 새롭게 진입차수가 0이 된 노드를 큐에 넣음
- 특징
  - 큐가 빌 때까지 큐에서 원소를 계속 꺼내서 처리하는 과정을 반복
  - 모든 원소를 방문하기 전에 큐가 빈다면 사이클이 존재한다고 판단
    - 즉, 큐에서 원소가 V번 추출되기 전에 큐가 비어버리면 사이클이 발생한 것!
    - 사이클이 존재하는 경우, 사이클에 포함되어 있는 원소 중에서 어떠한 원소도 큐에 들어가지 못하기 때문!
    - (다만, 기본적으로 위상 정렬 문제에서는 사이클이 발생하지 않는다고 명시하는 경우가 많음)
  - **과정을 수행하는 동안 큐에서 빠져나간 노드를 순서대로 출력하면, 그것이 위상 정렬을 수행한 결과임**
  - 위상 정렬의 답안은 여러 가지가 될 수 있음
    - 한 단계에서 큐에 새롭게 들어가는 원소가 2개 이상인 경우, 여러 가지의 답이 존재하게 됨!
- 시간복잡도
  - 차례대로 모든 노드를 확인하면서, 해당 노드에서 출발하는 간선을 차례대로 제거함
  - 결과적으로 노드와 간선을 모두 확인해야 함 : `O(V + E)`